{"version":3,"sources":["../../src/report/emailService.js"],"names":["_","require","nodemailer","sendEmail","data","cb","result","transporter","createTransport","service","auth","user","email","pass","password","mailOptions","from","to","email_to","subject","html","sendMail","error","info","console","log","response"],"mappings":";;;;;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AACA,IAAIC,aAAaD,QAAQ,YAAR,CAAjB;;AAEO,IAAME,gCAAY,SAAZA,SAAY,CAAUC,IAAV,EAAgBC,EAAhB,EAAoB;AACzC,QAAIC,SAAS,EAAb;AACA,QAAIC,cAAcL,WAAWM,eAAX,CAA2B;AACzCC,iBAAS,OADgC;AAEzCC,cAAM;AACFC,kBAAMP,KAAKQ,KADT;AAEFC,kBAAMT,KAAKU;AAFT;AAFmC,KAA3B,CAAlB;;AAQA,QAAIC,cAAc;AACdC,cAAMZ,KAAKQ,KADG;AAEdK,YAAIb,KAAKc,QAFK;AAGdC,iBAAS,YAHK;AAIdC,cAAM;AAJQ,KAAlB;;AAOAb,gBAAYc,QAAZ,CAAqBN,WAArB,EAAkC,UAAUO,KAAV,EAAiBC,IAAjB,EAAuB;AACrD,YAAID,KAAJ,EAAW;AACPE,oBAAQC,GAAR,CAAYH,KAAZ;AACAjB,eAAG,IAAH,EAASiB,KAAT;AAEH,SAJD,MAIO;AACHE,oBAAQC,GAAR,CAAY,iBAAiBF,KAAKG,QAAlC;AACArB,eAAG,IAAH,EAASkB,IAAT;AAEH;AACJ,KAVD;AAWH,CA5BM;;kBA8BQpB,S","file":"emailService.js","sourcesContent":["var _ = require('lodash');\nvar nodemailer = require('nodemailer');\n\nexport const sendEmail = function (data, cb) {\n    var result = [];\n    var transporter = nodemailer.createTransport({\n        service: 'gmail',\n        auth: {\n            user: data.email,\n            pass: data.password\n        }\n    });\n\n    var mailOptions = {\n        from: data.email,\n        to: data.email_to,\n        subject: 'PSR Report',\n        html: 'data'\n    };\n\n    transporter.sendMail(mailOptions, function (error, info) {\n        if (error) {\n            console.log(error);\n            cb(null, error);\n\n        } else {\n            console.log('Email sent: ' + info.response);\n            cb(null, info);\n\n        }\n    });\n}\n\nexport default sendEmail;"]}