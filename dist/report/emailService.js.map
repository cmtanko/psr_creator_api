{"version":3,"sources":["../../src/report/emailService.js"],"names":["_","require","nodemailer","sendEmail","data","html","cb","result","transporter","createTransport","service","auth","user","email","pass","password","mailOptions","from","to","email_to","subject","sendMail","error","info","console","log","response"],"mappings":";;;;;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AACA,IAAIC,aAAaD,QAAQ,YAAR,CAAjB;;AAEO,IAAME,gCAAY,SAAZA,SAAY,CAAUC,IAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AAC9C,QAAIC,SAAS,EAAb;AACA,QAAIC,cAAcN,WAAWO,eAAX,CAA2B;AACzCC,iBAAS,OADgC;AAEzCC,cAAM;AACFC,kBAAMR,KAAKS,KADT;AAEFC,kBAAMV,KAAKW;AAFT;AAFmC,KAA3B,CAAlB;;AAQA,QAAIC,cAAc;AACdC,cAAMb,KAAKS,KADG;AAEdK,YAAId,KAAKe,QAFK;AAGdC,iBAAS,YAHK;AAIdf,cAAMA;AAJQ,KAAlB;;AAOAG,gBAAYa,QAAZ,CAAqBL,WAArB,EAAkC,UAAUM,KAAV,EAAiBC,IAAjB,EAAuB;AACrD,YAAID,KAAJ,EAAW;AACPE,oBAAQC,GAAR,CAAYH,KAAZ;AACAhB,eAAG,IAAH,EAASgB,KAAT;AAEH,SAJD,MAIO;AACHE,oBAAQC,GAAR,CAAY,iBAAiBF,KAAKG,QAAlC;AACApB,eAAG,IAAH,EAASiB,IAAT;AAEH;AACJ,KAVD;AAWH,CA5BM;;kBA8BQpB,S","file":"emailService.js","sourcesContent":["var _ = require('lodash');\nvar nodemailer = require('nodemailer');\n\nexport const sendEmail = function (data,html, cb) {\n    var result = [];\n    var transporter = nodemailer.createTransport({\n        service: 'gmail',\n        auth: {\n            user: data.email,\n            pass: data.password\n        }\n    });\n\n    var mailOptions = {\n        from: data.email,\n        to: data.email_to,\n        subject: 'PSR Report',\n        html: html\n    };\n\n    transporter.sendMail(mailOptions, function (error, info) {\n        if (error) {\n            console.log(error);\n            cb(null, error);\n\n        } else {\n            console.log('Email sent: ' + info.response);\n            cb(null, info);\n\n        }\n    });\n}\n\nexport default sendEmail;"]}