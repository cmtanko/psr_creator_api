{"version":3,"sources":["../../src/status/dailyReport.service.js"],"names":["getTimeInMins","timeSpent","timeInMin","isNumber","parseFloat","toLowerCase","indexOf","hourSplit","split","trim","minSplit","length","getCleanSplittedData","data","splitBy","messageDetail","undefined","timeDetail","statusDetail","getProjectStatus","status","getGitRepos","username","reponame","token","successFn","failFn","url","get","method","headers","then","catch"],"mappings":";;;;;;;AAAA;;;;AACA;;;;;;AAEO,IAAMA,wCAAgB,SAAhBA,aAAgB,CAACC,SAAD,EAAe;AAC3C,KAAIC,YAAY,EAAhB;AACA,KAAI,CAAC,iBAAEC,QAAF,CAAWC,WAAWH,SAAX,CAAX,CAAL,EAAwC;AACvCC,cAAY,QAAZ;AACA;AACD,KAAID,UAAUI,WAAV,GAAwBC,OAAxB,CAAgC,GAAhC,MAAyC,CAAC,CAA1C,IAA+CL,UAAUI,WAAV,GAAwBC,OAAxB,CAAgC,GAAhC,MAAyC,CAAC,CAA7F,EAAgG;AAC/F,MAAIC,YAAYN,UAAUI,WAAV,GAAwBG,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,EAAsCC,IAAtC,EAAhB;AACA,MAAIC,WAAWT,UAAUI,WAAV,GAAwBG,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,EAAsCC,IAAtC,GAA6CD,KAA7C,CAAmD,GAAnD,CAAf;AACAN,cAAYE,WAAWG,SAAX,IAAwB,EAAxB,GAA6BH,WAAWM,SAASA,SAASC,MAAT,GAAkB,CAA3B,CAAX,CAAzC;AACA,EAJD,MAIO,IAAIV,UAAUI,WAAV,GAAwBC,OAAxB,CAAgC,GAAhC,MAAyC,CAAC,CAA9C,EAAiD;AACvDJ,cAAYE,WAAWH,SAAX,IAAwB,EAApC;AACA,EAFM,MAEA,IAAIA,UAAUI,WAAV,GAAwBC,OAAxB,CAAgC,GAAhC,MAAyC,CAAC,CAA9C,EAAiD;AACvDJ,cAAYE,WAAWH,SAAX,CAAZ;AACA,EAFM,MAEA,IAAIA,YAAY,CAAhB,EAAmB;AACzBC,cAAYE,WAAWH,SAAX,IAAwB,EAApC;AACA,EAFM,MAEA;AACNC,cAAYE,WAAWH,SAAX,CAAZ;AACA;;AAED,QAAOC,SAAP;AACA,CApBM;;AAsBA,IAAMU,sDAAuB,SAAvBA,oBAAuB,CAACC,IAAD,EAAOC,OAAP,EAAmB;AACtD,SAAQA,OAAR;AACC,OAAK,OAAL;AAAc;AACb,WAAOD,KAAKJ,IAAL,GAAYD,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,EAA0BC,IAA1B,EAAP;AACA;AACD,OAAK,IAAL;AAAW;AACV,QAAIM,gBAAgBF,KAAKJ,IAAL,GAAYD,KAAZ,CAAkB,IAAlB,EAAwB,CAAxB,CAApB;;AAEA,WAAOO,kBAAkBC,SAAlB,GAA8BH,KAAKJ,IAAL,EAA9B,GAA4CM,cAAcP,KAAd,CAAoB,GAApB,EAAyB,CAAzB,EAA4BC,IAA5B,EAAnD;AACA;AACD,OAAK,IAAL;AAAW;AACV,QAAIQ,aAAaJ,KAAKJ,IAAL,GAAYD,KAAZ,CAAkB,IAAlB,EAAwB,CAAxB,CAAjB;;AAEA,WAAOS,eAAeD,SAAf,GAA2B,QAA3B,GAAsCC,WAAWT,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,EAAyBC,IAAzB,EAA7C;AACA;AACD,OAAK,IAAL;AAAW;AACV,QAAIS,eAAeL,KAAKJ,IAAL,GAAYD,KAAZ,CAAkB,IAAlB,EAAwB,CAAxB,CAAnB;;AAEA,WAAOU,iBAAiBF,SAAjB,GAA6B,aAA7B,GAA6CE,aAAaV,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,IAA3B,EAApD;AACA;AACD;AACC,UAAOI,IAAP;AApBF;AAsBA,CAvBM;;AAyBA,IAAMM,8CAAmB,SAAnBA,gBAAmB,CAACC,MAAD,EAAY;AAC3CA,UAASA,OAAOf,WAAP,EAAT;AACA,KAAIe,WAAW,KAAX,IAAoBA,WAAW,UAA/B,IAA6CA,WAAW,aAAxD,IAAyEA,WAAW,YAAxF,EAAsG;AACrG,SAAO,aAAP;AACA,EAFD,MAEO,IAAIA,WAAW,WAAX,IAA0BA,WAAW,UAAzC,EAAqD;AAC3D,SAAO,WAAP;AACA,EAFM,MAEA;AACN,SAAO,aAAP;AACA;AACD,CATM;;AAWA,IAAMC,oCAAc,SAAdA,WAAc,CAACC,QAAD,EAAWC,QAAX,EAAqBC,KAArB,EAA4BC,SAA5B,EAAuCC,MAAvC,EAAkD;AAC5E,KAAIC,MAAM,kCAAkCL,QAAlC,GAA6C,GAA7C,GAAmDC,QAAnD,GAA8D,sBAAxE;AACA,iBAAMK,GAAN,CAAUD,GAAV,EACC;AACCE,UAAQ,KADT;AAECC,WAAS,EAAE,iBAAiB,WAAWN,KAA9B;AAFV,EADD,EAKEO,IALF,CAKO,UAAClB,IAAD;AAAA,SAAUY,UAAUZ,IAAV,CAAV;AAAA,EALP,EAMEmB,KANF,CAMQ,UAACnB,IAAD;AAAA,SAAUa,OAAOb,IAAP,CAAV;AAAA,EANR;AAOA,CATM;;kBAWQ;AACdb,6BADc;AAEdY,2CAFc;AAGdO,mCAHc;AAIdE;AAJc,C","file":"dailyReport.service.js","sourcesContent":["import _ from 'lodash';\nimport axios from 'axios';\n\nexport const getTimeInMins = (timeSpent) => {\n\tlet timeInMin = '';\n\tif (!_.isNumber(parseFloat(timeSpent))) {\n\t\ttimeInMin = '0 mins';\n\t}\n\tif (timeSpent.toLowerCase().indexOf('h') !== -1 && timeSpent.toLowerCase().indexOf('m') !== -1) {\n\t\tlet hourSplit = timeSpent.toLowerCase().split('h')[0].trim();\n\t\tlet minSplit = timeSpent.toLowerCase().split('m')[0].trim().split(' ');\n\t\ttimeInMin = parseFloat(hourSplit) * 60 + parseFloat(minSplit[minSplit.length - 1]);\n\t} else if (timeSpent.toLowerCase().indexOf('h') !== -1) {\n\t\ttimeInMin = parseFloat(timeSpent) * 60;\n\t} else if (timeSpent.toLowerCase().indexOf('m') !== -1) {\n\t\ttimeInMin = parseFloat(timeSpent);\n\t} else if (timeSpent < 8) {\n\t\ttimeInMin = parseFloat(timeSpent) * 60;\n\t} else {\n\t\ttimeInMin = parseFloat(timeSpent);\n\t}\n\n\treturn timeInMin;\n};\n\nexport const getCleanSplittedData = (data, splitBy) => {\n\tswitch (splitBy) {\n\t\tcase 'space': {\n\t\t\treturn data.trim().split(' ')[0].trim();\n\t\t}\n\t\tcase '-m': {\n\t\t\tlet messageDetail = data.trim().split('-m')[1];\n\n\t\t\treturn messageDetail === undefined ? data.trim() : messageDetail.split('-')[0].trim();\n\t\t}\n\t\tcase '-t': {\n\t\t\tlet timeDetail = data.trim().split('-t')[1];\n\n\t\t\treturn timeDetail === undefined ? '0 mins' : timeDetail.split('-')[0].trim();\n\t\t}\n\t\tcase '-s': {\n\t\t\tlet statusDetail = data.trim().split('-s')[1];\n\n\t\t\treturn statusDetail === undefined ? 'In Progress' : statusDetail.split('-')[0].trim();\n\t\t}\n\t\tdefault:\n\t\t\treturn data;\n\t}\n};\n\nexport const getProjectStatus = (status) => {\n\tstatus = status.toLowerCase();\n\tif (status === 'wip' || status === 'progress' || status === 'in progress' || status === 'inprogress') {\n\t\treturn 'In Progress';\n\t} else if (status === 'completed' || status === 'complete') {\n\t\treturn 'Completed';\n\t} else {\n\t\treturn 'In Progress';\n\t}\n};\n\nexport const getGitRepos = (username, reponame, token, successFn, failFn) => {\n\tlet url = 'https://api.github.com/repos/' + username + '/' + reponame + '/events?per_page=300';\n\taxios.get(url,\n\t\t{\n\t\t\tmethod: 'GET',\n\t\t\theaders: { 'Authorization': 'token ' + token }\n\t\t}\n\t).then((data) => successFn(data))\n\t\t.catch((data) => failFn(data));\n};\n\nexport default {\n\tgetTimeInMins,\n\tgetCleanSplittedData,\n\tgetProjectStatus,\n\tgetGitRepos\n};\n"]}