{"version":3,"sources":["../../src/utils/logger.js"],"names":["tsFormat","Date","toISOString","logDir","process","env","LOGGING_DIR","logLevel","LOGGING_LEVEL","existsSync","mkdirSync","logger","Logger","transports","Console","timestamp","colorize","level","DailyRotateFile","filename","datePattern","prepend"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA,IAAMA,WAAW,SAAXA,QAAW;AAAA,SAAM,IAAIC,IAAJ,GAAWC,WAAX,EAAN;AAAA,CAAjB;AACA,IAAMC,SAASC,QAAQC,GAAR,CAAYC,WAAZ,IAA2B,MAA1C;AACA,IAAMC,WAAWH,QAAQC,GAAR,CAAYG,aAAZ,IAA6B,MAA9C;;AAEA;AACA,IAAI,CAAC,aAAGC,UAAH,CAAcN,MAAd,CAAL,EAA4B;AAC1B,eAAGO,SAAH,CAAaP,MAAb;AACD;;AAED;;;AAGA,IAAMQ,SAAS,IAAI,kBAAQC,MAAZ,CAAmB;AAChCC,cAAY,CACV,IAAI,kBAAQA,UAAR,CAAmBC,OAAvB,CAA+B;AAC7BC,eAAWf,QADkB;AAE7BgB,cAAU,IAFmB;AAG7BC,WAAOV;AAHsB,GAA/B,CADU,EAMV,IAAI,kBAAQM,UAAR,CAAmBK,eAAvB,CAAuC;AACrCC,cAAahB,MAAb,gBADqC;AAErCY,eAAWf,QAF0B;AAGrCoB,iBAAa,YAHwB;AAIrCC,aAAS,IAJ4B;AAKrCJ,WAAOV;AAL8B,GAAvC,CANU;AADoB,CAAnB,CAAf;;kBAiBeI,M","file":"logger.js","sourcesContent":["import fs from 'fs';\nimport winston from 'winston';\nimport 'winston-daily-rotate-file';\n\nconst tsFormat = () => new Date().toISOString();\nconst logDir = process.env.LOGGING_DIR || 'logs';\nconst logLevel = process.env.LOGGING_LEVEL || 'info';\n\n// Create log directory if it does not exist\nif (!fs.existsSync(logDir)) {\n  fs.mkdirSync(logDir);\n}\n\n/**\n * Create new winston logger instance.\n */\nconst logger = new winston.Logger({\n  transports: [\n    new winston.transports.Console({\n      timestamp: tsFormat,\n      colorize: true,\n      level: logLevel,\n    }),\n    new winston.transports.DailyRotateFile({\n      filename: `${logDir}/-debug.log`,\n      timestamp: tsFormat,\n      datePattern: 'yyyy-MM-dd',\n      prepend: true,\n      level: logLevel,\n    }),\n  ],\n});\n\nexport default logger;\n"]}