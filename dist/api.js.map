{"version":3,"sources":["../src/api.js"],"names":["app","port","process","env","PORT","use","json","static","join","__dirname","get","req","res","config","email","password","email_to","gToken","S1_SECRET","send","CronJob","job","cronTime","onTick","console","log","start","timeZone","listen"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;AACA,IAAIC,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B;AACAJ,IAAIK,GAAJ,CAAQ,qBAAR;AACAL,IAAIK,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;AACAN,IAAIK,GAAJ,CAAQ,MAAR;AACAL,IAAIK,GAAJ,CAAQ,kBAAQE,MAAR,CAAe,eAAKC,IAAL,CAAUC,SAAV,EAAqB,YAArB,CAAf,CAAR;AACAT,IAAIU,GAAJ,CAAQ,GAAR,EAAa,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC7B,QAAMC,SAAS;AACXC,eAAOZ,QAAQC,GAAR,CAAYW,KADR;AAEXC,kBAAUb,QAAQC,GAAR,CAAYY,QAFX;AAGXC,kBAAUd,QAAQC,GAAR,CAAYa,QAHX;AAIXC,gBAAQf,QAAQC,GAAR,CAAYe;AAJT,KAAf;AAMAN,QAAIO,IAAJ,CAASN,MAAT;;AAEA,QAAIO,UAAU,eAAKA,OAAnB;AACA,QAAIC,MAAM,IAAID,OAAJ,CAAY;AAClBE,kBAAU,cADQ;AAElBC,gBAAQ,kBAAY;AAChBC,oBAAQC,GAAR,CAAYvB,QAAQC,GAAR,CAAYa,QAAxB;AACA;;;;;AAKH,SATiB;AAUlBU,eAAO,KAVW;AAWlBC,kBAAU;AAXQ,KAAZ,CAAV;AAaAN,QAAIK,KAAJ;AACH,CAxBD;AAyBA1B,IAAI4B,MAAJ,CAAW3B,IAAX,EAAiB,YAAY;AACzBuB,YAAQC,GAAR,CAAY,kBAAZ,EAAgCxB,IAAhC;AACH,CAFD;;kBAIeD,G","file":"api.js","sourcesContent":["import 'babel-polyfill';\nimport cors from 'cors';\nimport path from 'path';\nimport routes from './routes';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport cron from 'cron';\n\nconst app = express();\nvar port = process.env.PORT || 3000;\napp.use(cors());\napp.use(bodyParser.json());\napp.use('/api', routes);\napp.use(express.static(path.join(__dirname, '/../public')));\napp.get('/', function (req, res) {\n    const config = {\n        email: process.env.email,\n        password: process.env.password,\n        email_to: process.env.email_to,\n        gToken: process.env.S1_SECRET\n    }\n    res.send(config);\n\n    let CronJob = cron.CronJob;\n    let job = new CronJob({\n        cronTime: '10 * * * * *',\n        onTick: function () {\n            console.log(process.env.email_to);\n            /*\n             * Runs every weekday (Monday through Friday)\n             * at 11:30:00 AM. It does not run on Saturday\n             * or Sunday.\n             */\n        },\n        start: false,\n        timeZone: 'America/Los_Angeles'\n    });\n    job.start();\n});\napp.listen(port, function () {\n    console.log('app listening on', port);\n})\n\nexport default app;"]}